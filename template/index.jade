doctype html
html
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
  
    title #{title}
    style !{styleguide_css}
  body
    .container
      h1.title-large #{title}
      time.generated Generated at #{Date()}

      hr.small

      nav.index
        ul
          for section in sections
            li
              | &rsaquo; 
              a(href="##{section.slug}")= section.title

              ul
                for guide,i in section.guides
                  li
                    | &rsaquo; 
                    a(href="##{section.slug}#{i}")= guide.title


      hr.small

      nav.nav
        ul
          for section in sections
            li
              a(href="##{section.slug}")
                | &rsaquo; #{section.title}
                

      for section in sections
        .section(id=section.slug)
          h2.title-medium= section.title
          for guide,i in section.guides
            .guide(id="#{section.slug}#{i}")
              h3.title-small= guide.title
                a.toggle(href="#") Toggle source

              if guide.description
                .description !{marked(guide.description)}

              if guide.example
                .preview
                  iframe(scrolling="no")
                
                if Array.isArray(guide.example)
                  .source.hidden= guide.example.join(' ').trim()
                else
                  .source.hidden= guide.example.trim()

          hr.small

      textarea.source_css= source_css
      textarea.source_js= source_js

    | <script>
    include styleguide.js
    | </script>
